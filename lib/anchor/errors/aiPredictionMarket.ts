/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  type Address,
  isProgramError,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from '@solana/kit'
import { AI_PREDICTION_MARKET_PROGRAM_ADDRESS } from '../programs'

/** Resolved: Market already resolved. */
export const AI_PREDICTION_MARKET_ERROR__RESOLVED = 0x1770 // 6000
/** Ended: Market betting has ended. */
export const AI_PREDICTION_MARKET_ERROR__ENDED = 0x1771 // 6001
/** NotEnded: Market has not ended yet. */
export const AI_PREDICTION_MARKET_ERROR__NOT_ENDED = 0x1772 // 6002
/** NotResolved: Market is not resolved yet. */
export const AI_PREDICTION_MARKET_ERROR__NOT_RESOLVED = 0x1773 // 6003
/** InvalidOutcome: Invalid outcome. Use 0 for yes, 1 for no. */
export const AI_PREDICTION_MARKET_ERROR__INVALID_OUTCOME = 0x1774 // 6004
/** QuestionTooLong: Question exceeds max length. */
export const AI_PREDICTION_MARKET_ERROR__QUESTION_TOO_LONG = 0x1775 // 6005
/** AlreadyClaimed: Bet record has already claimed. */
export const AI_PREDICTION_MARKET_ERROR__ALREADY_CLAIMED = 0x1776 // 6006
/** NothingToClaim: No winning stake to claim. */
export const AI_PREDICTION_MARKET_ERROR__NOTHING_TO_CLAIM = 0x1777 // 6007
/** InvalidBetRecord: Invalid bet record for this market. */
export const AI_PREDICTION_MARKET_ERROR__INVALID_BET_RECORD = 0x1778 // 6008
/** InvalidAmount: Bet amount must be greater than zero. */
export const AI_PREDICTION_MARKET_ERROR__INVALID_AMOUNT = 0x1779 // 6009
/** InsufficientPool: Insufficient pool balance for claim. */
export const AI_PREDICTION_MARKET_ERROR__INSUFFICIENT_POOL = 0x177a // 6010

export type AiPredictionMarketError =
  | typeof AI_PREDICTION_MARKET_ERROR__ALREADY_CLAIMED
  | typeof AI_PREDICTION_MARKET_ERROR__ENDED
  | typeof AI_PREDICTION_MARKET_ERROR__INSUFFICIENT_POOL
  | typeof AI_PREDICTION_MARKET_ERROR__INVALID_AMOUNT
  | typeof AI_PREDICTION_MARKET_ERROR__INVALID_BET_RECORD
  | typeof AI_PREDICTION_MARKET_ERROR__INVALID_OUTCOME
  | typeof AI_PREDICTION_MARKET_ERROR__NOT_ENDED
  | typeof AI_PREDICTION_MARKET_ERROR__NOTHING_TO_CLAIM
  | typeof AI_PREDICTION_MARKET_ERROR__NOT_RESOLVED
  | typeof AI_PREDICTION_MARKET_ERROR__QUESTION_TOO_LONG
  | typeof AI_PREDICTION_MARKET_ERROR__RESOLVED

let aiPredictionMarketErrorMessages:
  | Record<AiPredictionMarketError, string>
  | undefined
if (process.env.NODE_ENV !== 'production') {
  aiPredictionMarketErrorMessages = {
    [AI_PREDICTION_MARKET_ERROR__ALREADY_CLAIMED]: `Bet record has already claimed.`,
    [AI_PREDICTION_MARKET_ERROR__ENDED]: `Market betting has ended.`,
    [AI_PREDICTION_MARKET_ERROR__INSUFFICIENT_POOL]: `Insufficient pool balance for claim.`,
    [AI_PREDICTION_MARKET_ERROR__INVALID_AMOUNT]: `Bet amount must be greater than zero.`,
    [AI_PREDICTION_MARKET_ERROR__INVALID_BET_RECORD]: `Invalid bet record for this market.`,
    [AI_PREDICTION_MARKET_ERROR__INVALID_OUTCOME]: `Invalid outcome. Use 0 for yes, 1 for no.`,
    [AI_PREDICTION_MARKET_ERROR__NOT_ENDED]: `Market has not ended yet.`,
    [AI_PREDICTION_MARKET_ERROR__NOTHING_TO_CLAIM]: `No winning stake to claim.`,
    [AI_PREDICTION_MARKET_ERROR__NOT_RESOLVED]: `Market is not resolved yet.`,
    [AI_PREDICTION_MARKET_ERROR__QUESTION_TOO_LONG]: `Question exceeds max length.`,
    [AI_PREDICTION_MARKET_ERROR__RESOLVED]: `Market already resolved.`,
  }
}

export function getAiPredictionMarketErrorMessage(
  code: AiPredictionMarketError,
): string {
  if (process.env.NODE_ENV !== 'production') {
    return (
      aiPredictionMarketErrorMessages as Record<AiPredictionMarketError, string>
    )[code]
  }

  return 'Error message not available in production bundles.'
}

export function isAiPredictionMarketError<
  TProgramErrorCode extends AiPredictionMarketError,
>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>
  },
  code?: TProgramErrorCode,
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    AI_PREDICTION_MARKET_PROGRAM_ADDRESS,
    code,
  )
}
